# CHANGELOG - TAREFA-052
## Frontend - Componente de Sele√ß√£o de Agentes para Peti√ß√£o

**Data:** 2025-10-25  
**Tipo:** Implementa√ß√£o de Feature (Frontend - Wizard de Peti√ß√£o)  
**Escopo:** FASE 7 - An√°lise de Peti√ß√£o Inicial  
**Status:** ‚úÖ CONCLU√çDO

---

## üìã Resumo Executivo

Componente React TypeScript completo para sele√ß√£o de advogados especialistas e peritos t√©cnicos no contexto do wizard de an√°lise de peti√ß√£o inicial. Reutiliza l√≥gica visual da TAREFA-029 mas adapta para fluxo de peti√ß√£o com valida√ß√£o rigorosa (m√≠nimo 1 advogado E 1 perito).

**Entregas:**
- ‚úÖ Componente `ComponenteSelecaoAgentesPeticao.tsx` (920 linhas)
- ‚úÖ Integra√ß√£o com `AnalisePeticaoInicial.tsx`
- ‚úÖ Valida√ß√£o rigorosa (1 advogado E 1 perito obrigat√≥rios)
- ‚úÖ Layout otimizado para wizard (bot√µes Voltar/Avan√ßar)
- ‚úÖ Feedback visual detalhado

**Resultado:**
- Etapa 3 do wizard de peti√ß√£o implementada
- Reutiliza√ß√£o de c√≥digo da TAREFA-029
- Experi√™ncia de usu√°rio consistente
- Valida√ß√£o robusta antes de avan√ßar

---

## üéØ Objetivos da Tarefa

### Contexto de Neg√≥cio

O wizard de an√°lise de peti√ß√£o inicial (FASE 7) exige que o usu√°rio selecione agentes especializados para an√°lise completa:
- **Advogados Especialistas**: an√°lise jur√≠dica por √°rea (trabalhista, previdenci√°rio, c√≠vel, tribut√°rio)
- **Peritos T√©cnicos**: an√°lise t√©cnica (m√©dico, seguran√ßa do trabalho)

Diferente da an√°lise tradicional (TAREFA-029), onde a sele√ß√£o √© opcional (OU), no fluxo de peti√ß√£o a valida√ß√£o √© rigorosa:
- **Obrigat√≥rio**: Pelo menos 1 advogado E pelo menos 1 perito
- **Justificativa**: An√°lise de peti√ß√£o exige vis√£o jur√≠dica + t√©cnica para progn√≥stico completo

### Objetivos T√©cnicos

1. **Criar** `ComponenteSelecaoAgentesPeticao.tsx`
   - Reutilizar l√≥gica visual do ComponenteSelecionadorAgentes (TAREFA-029)
   - Adaptar para contexto de wizard (callbacks locais, sem Zustand)
   - Valida√ß√£o rigorosa (1 advogado E 1 perito)
   - Bot√µes de navega√ß√£o (Voltar/Avan√ßar)

2. **Integrar** com `AnalisePeticaoInicial.tsx`
   - Substituir placeholder da Etapa 3
   - Conectar callbacks de sele√ß√£o e navega√ß√£o

3. **Valida√ß√£o**
   - Bot√£o "Avan√ßar" s√≥ habilitado se sele√ß√£o v√°lida
   - Mensagens de erro contextuais
   - Feedback visual de sele√ß√£o incompleta

---

## üîß Implementa√ß√£o T√©cnica

### Estrutura de Arquivos

```
frontend/src/
‚îú‚îÄ‚îÄ componentes/
‚îÇ   ‚îî‚îÄ‚îÄ peticao/
‚îÇ       ‚îî‚îÄ‚îÄ ComponenteSelecaoAgentesPeticao.tsx    [CRIADO] (920 linhas)
‚îú‚îÄ‚îÄ paginas/
‚îÇ   ‚îî‚îÄ‚îÄ AnalisePeticaoInicial.tsx                   [MODIFICADO] (+20 linhas, -27 linhas)
```

### 1. Cria√ß√£o do Componente Principal

**Arquivo:** `frontend/src/componentes/peticao/ComponenteSelecaoAgentesPeticao.tsx`

**Caracter√≠sticas:**

#### a) Interface de Propriedades

```typescript
interface PropriedadesComponenteSelecaoAgentesPeticao {
  agentesSelecionados: AgentesSelecionados;  // { advogados: string[], peritos: string[] }
  onAgentesAlterados: (agentes: AgentesSelecionados) => void;
  onAvancar: () => void;
  onVoltar: () => void;
}
```

**Diferen√ßa da TAREFA-029:**
- N√£o usa Zustand store (estado gerenciado pelo componente pai)
- Propriedades controladas (controlled component pattern)
- Callbacks de navega√ß√£o do wizard

#### b) Estado Local

```typescript
// Listas de agentes dispon√≠veis (da API)
const [peritosDisponiveis, setPeritosDisponiveis] = useState<InformacaoPerito[]>([]);
const [advogadosDisponiveis, setAdvogadosDisponiveis] = useState<InformacaoAdvogado[]>([]);

// Estados de carregamento
const [estadoCarregamentoPeritos, setEstadoCarregamentoPeritos] = useState<EstadoCarregamento>('idle');
const [estadoCarregamentoAdvogados, setEstadoCarregamentoAdvogados] = useState<EstadoCarregamento>('idle');

// Mensagem de erro (se houver)
const [mensagemErro, setMensagemErro] = useState<string>('');

// Cards expandidos (legisla√ß√£o/especialidades)
const [peritoExpandido, setPeritoExpandido] = useState<string | null>(null);
const [advogadoExpandido, setAdvogadoExpandido] = useState<string | null>(null);
```

#### c) Busca de Agentes Dispon√≠veis

**useEffect #1 - Buscar Peritos:**

```typescript
useEffect(() => {
  async function buscarPeritos() {
    setEstadoCarregamentoPeritos('loading');
    setMensagemErro('');
    
    try {
      const resposta = await listarPeritosDisponiveis();
      
      if (resposta.data.sucesso && resposta.data.peritos.length > 0) {
        setPeritosDisponiveis(resposta.data.peritos);
        setEstadoCarregamentoPeritos('success');
      } else {
        throw new Error('Nenhum perito dispon√≠vel no sistema');
      }
    } catch (erro) {
      const mensagem = obterMensagemErroAmigavel(erro);
      setMensagemErro(mensagem);
      setEstadoCarregamentoPeritos('error');
    }
  }
  
  buscarPeritos();
}, []);
```

**useEffect #2 - Buscar Advogados:**

Similar ao de peritos, chama `listarAdvogadosDisponiveis()`.

#### d) Handlers de Sele√ß√£o

**Alternar Perito:**

```typescript
function handleAlternarPerito(idPerito: string) {
  const novosPeritosSelecionados = agentesSelecionados.peritos.includes(idPerito)
    ? agentesSelecionados.peritos.filter((id) => id !== idPerito)  // Remove
    : [...agentesSelecionados.peritos, idPerito];                   // Adiciona
  
  onAgentesAlterados({
    ...agentesSelecionados,
    peritos: novosPeritosSelecionados,
  });
}
```

**Alternar Advogado:**

Similar ao de peritos, mas para array `advogados`.

**Selecionar Todos (Advogados/Peritos):**

```typescript
function handleSelecionarTodosAdvogados() {
  const todosIds = advogadosDisponiveis.map((a) => a.id_advogado);
  onAgentesAlterados({
    ...agentesSelecionados,
    advogados: todosIds,
  });
}
```

**Limpar Sele√ß√£o:**

```typescript
function handleLimparSelecao() {
  onAgentesAlterados({
    advogados: [],
    peritos: [],
  });
}
```

#### e) Valida√ß√£o Rigorosa

```typescript
const selecaoValida =
  agentesSelecionados.advogados.length > 0 && agentesSelecionados.peritos.length > 0;

const totalSelecionados =
  agentesSelecionados.advogados.length + agentesSelecionados.peritos.length;
```

**Regra (TAREFA-052):**
- ‚úÖ Sele√ß√£o v√°lida: pelo menos 1 advogado E pelo menos 1 perito
- ‚ùå Sele√ß√£o inv√°lida: falta advogado OU falta perito

#### f) Layout em 2 Se√ß√µes

**SE√á√ÉO 1: Advogados Especialistas**

- T√≠tulo: "Advogados Especialistas"
- Cor de destaque: Verde (`border-green-500`, `bg-green-50`)
- Bot√µes: "Todos" (selecionar todos), "Limpar" (limpar sele√ß√£o)
- Grid responsivo: 1 coluna (mobile), 2 colunas (desktop)
- Cards com:
  - Checkbox visual (CheckCircle2 / Circle)
  - √çcone do advogado (Briefcase, Scale, Building, Landmark)
  - Nome e descri√ß√£o
  - Bot√£o expandir/colapsar legisla√ß√£o principal

**SE√á√ÉO 2: Peritos T√©cnicos**

- T√≠tulo: "Peritos T√©cnicos"
- Cor de destaque: Azul (`border-blue-500`, `bg-blue-50`)
- Bot√µes: "Todos" (selecionar todos)
- Grid responsivo: 1 coluna (mobile), 2 colunas (desktop)
- Cards com:
  - Checkbox visual
  - √çcone do perito (User, Shield)
  - Nome e descri√ß√£o
  - Bot√£o expandir/colapsar especialidades

#### g) Mensagens de Valida√ß√£o

**Sele√ß√£o Incompleta:**

```tsx
{!selecaoValida && totalSelecionados > 0 && (
  <div className="flex items-center gap-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
    <AlertCircle className="h-5 w-5 text-yellow-600 flex-shrink-0" />
    <div className="flex-1">
      <p className="text-sm font-medium text-yellow-900">Sele√ß√£o incompleta</p>
      <p className="text-sm text-yellow-700 mt-1">
        {agentesSelecionados.advogados.length === 0 &&
          'Selecione pelo menos 1 advogado especialista.'}
        {agentesSelecionados.peritos.length === 0 &&
          ' Selecione pelo menos 1 perito t√©cnico.'}
      </p>
    </div>
  </div>
)}
```

#### h) Bot√µes de Navega√ß√£o do Wizard

```tsx
<div className="flex items-center justify-between pt-6 border-t border-gray-200">
  {/* Bot√£o Voltar */}
  <button onClick={onVoltar} className="...">
    <ChevronLeft className="h-5 w-5" />
    Voltar
  </button>
  
  {/* Feedback de sele√ß√£o */}
  <div className="text-sm text-gray-600">
    {totalSelecionados === 0 ? (
      'Selecione pelo menos 1 advogado e 1 perito'
    ) : selecaoValida ? (
      <span className="text-green-600 font-medium">‚úì Sele√ß√£o v√°lida</span>
    ) : (
      <span className="text-yellow-600 font-medium">
        ‚ö† Sele√ß√£o incompleta (...)
      </span>
    )}
  </div>
  
  {/* Bot√£o Avan√ßar */}
  <button
    onClick={onAvancar}
    disabled={!selecaoValida}
    className="... disabled:bg-gray-300 disabled:cursor-not-allowed"
  >
    Avan√ßar
    <ChevronRight className="h-5 w-5" />
  </button>
</div>
```

**Comportamento:**
- ‚úÖ Bot√£o "Avan√ßar" habilitado se `selecaoValida === true`
- ‚ùå Bot√£o "Avan√ßar" desabilitado se falta advogado OU perito
- üìä Feedback em tempo real no centro (‚úì v√°lida, ‚ö† incompleta)

### 2. Integra√ß√£o com AnalisePeticaoInicial.tsx

#### Modifica√ß√µes

**a) Importa√ß√£o:**

```typescript
import { ComponenteSelecaoAgentesPeticao } from '../componentes/peticao/ComponenteSelecaoAgentesPeticao';
```

**b) Atualiza√ß√£o da Etapa 3:**

**ANTES (Placeholder):**

```tsx
function EtapaSelecaoAgentes({ ... }) {
  return (
    <div className="text-center py-12">
      <Users className="w-16 h-16 text-gray-400 mx-auto mb-4" />
      <h2>Sele√ß√£o de Agentes</h2>
      <p>Componente completo ser√° implementado na TAREFA-052</p>
      <div className="flex gap-4 justify-center">
        <button onClick={onVoltar}>Voltar</button>
        <button onClick={() => { /* simular */ }}>Avan√ßar (Dev)</button>
      </div>
    </div>
  );
}
```

**DEPOIS (Componente Real):**

```tsx
function EtapaSelecaoAgentes({
  agentesSelecionados,
  onAgentesAlterados,
  onAvancar,
  onVoltar,
}: {
  agentesSelecionados: AgentesSelecionados;
  onAgentesAlterados: (agentes: AgentesSelecionados) => void;
  onAvancar: () => void;
  onVoltar: () => void;
}) {
  return (
    <div className="space-y-6">
      <ComponenteSelecaoAgentesPeticao
        agentesSelecionados={agentesSelecionados}
        onAgentesAlterados={onAgentesAlterados}
        onAvancar={onAvancar}
        onVoltar={onVoltar}
      />
    </div>
  );
}
```

**Fluxo de Dados:**

1. `AnalisePeticaoInicial` mant√©m `agentesSelecionados` em state
2. Passa para `EtapaSelecaoAgentes` via props
3. `EtapaSelecaoAgentes` repassa para `ComponenteSelecaoAgentesPeticao`
4. Quando usu√°rio altera sele√ß√£o, callback `onAgentesAlterados` atualiza state no pai
5. Quando usu√°rio clica "Avan√ßar", callback `onAvancar` avan√ßa wizard

---

## üìä Estat√≠sticas de C√≥digo

### Novos Arquivos

| Arquivo | Linhas | Fun√ß√µes | Componentes | Descri√ß√£o |
|---------|--------|---------|-------------|-----------|
| `ComponenteSelecaoAgentesPeticao.tsx` | 920 | 10 | 1 | Componente de sele√ß√£o de agentes para peti√ß√£o |

### Arquivos Modificados

| Arquivo | Linhas Adicionadas | Linhas Removidas | Mudan√ßas Principais |
|---------|-------------------|------------------|---------------------|
| `AnalisePeticaoInicial.tsx` | +20 | -27 | Substituir placeholder da Etapa 3 |

### Totais

- **Linhas de c√≥digo criadas:** ~920
- **Linhas modificadas:** ~47
- **Arquivos criados:** 1
- **Arquivos modificados:** 1

---

## üé® Interface do Usu√°rio

### Layout

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Sele√ß√£o de Agentes Especializados                             ‚îÇ
‚îÇ  Escolha advogados especialistas e peritos t√©cnicos...          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  SE√á√ÉO 1: ADVOGADOS ESPECIALISTAS                               ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  [Advogados Especialistas]  [Todos] [Limpar]                   ‚îÇ
‚îÇ  0 advogados selecionados                                       ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                  ‚îÇ
‚îÇ  ‚îÇ ‚óã Advogado        ‚îÇ  ‚îÇ ‚óã Advogado        ‚îÇ                  ‚îÇ
‚îÇ  ‚îÇ   Trabalhista     ‚îÇ  ‚îÇ   Previdenci√°rio  ‚îÇ                  ‚îÇ
‚îÇ  ‚îÇ   Desc...         ‚îÇ  ‚îÇ   Desc...         ‚îÇ                  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                  ‚îÇ
‚îÇ  ‚îÇ ‚óã Advogado        ‚îÇ  ‚îÇ ‚óã Advogado        ‚îÇ                  ‚îÇ
‚îÇ  ‚îÇ   C√≠vel           ‚îÇ  ‚îÇ   Tribut√°rio      ‚îÇ                  ‚îÇ
‚îÇ  ‚îÇ   Desc...         ‚îÇ  ‚îÇ   Desc...         ‚îÇ                  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  SE√á√ÉO 2: PERITOS T√âCNICOS                                      ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  [Peritos T√©cnicos]  [Todos]                                    ‚îÇ
‚îÇ  0 peritos selecionados                                         ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                  ‚îÇ
‚îÇ  ‚îÇ ‚óã Perito          ‚îÇ  ‚îÇ ‚óã Perito          ‚îÇ                  ‚îÇ
‚îÇ  ‚îÇ   M√©dico          ‚îÇ  ‚îÇ   Seguran√ßa       ‚îÇ                  ‚îÇ
‚îÇ  ‚îÇ   Desc...         ‚îÇ  ‚îÇ   Desc...         ‚îÇ                  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚ö† Sele√ß√£o incompleta                                           ‚îÇ
‚îÇ  Selecione pelo menos 1 advogado especialista.                  ‚îÇ
‚îÇ  Selecione pelo menos 1 perito t√©cnico.                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  [‚Üê Voltar]  ‚ö† Sele√ß√£o incompleta (...)    [Avan√ßar ‚ùå]         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Estados Visuais

#### 1. Card de Agente N√ÉO Selecionado

- Borda: `border-gray-200` (cinza claro)
- Background: `bg-white`
- Checkbox: `Circle` (contorno cinza)
- √çcone: fundo `bg-gray-100`, √≠cone `text-gray-600`
- Texto: `text-gray-900` (nome), `text-gray-600` (descri√ß√£o)

#### 2. Card de Agente Selecionado (Advogado)

- Borda: `border-green-500` (verde)
- Background: `bg-green-50` (verde claro)
- Checkbox: `CheckCircle2` (preenchido verde)
- √çcone: fundo `bg-green-100`, √≠cone `text-green-600`
- Texto: `text-green-900` (nome), `text-green-700` (descri√ß√£o)
- Shadow: `shadow-md`

#### 3. Card de Agente Selecionado (Perito)

- Borda: `border-blue-500` (azul)
- Background: `bg-blue-50` (azul claro)
- Checkbox: `CheckCircle2` (preenchido azul)
- √çcone: fundo `bg-blue-100`, √≠cone `text-blue-600`
- Texto: `text-blue-900` (nome), `text-blue-700` (descri√ß√£o)
- Shadow: `shadow-md`

#### 4. Mensagens de Valida√ß√£o

**Sele√ß√£o Incompleta (Amarelo):**

```tsx
<div className="bg-yellow-50 border border-yellow-200">
  <AlertCircle className="text-yellow-600" />
  <p className="text-yellow-900">Sele√ß√£o incompleta</p>
  <p className="text-yellow-700">Selecione pelo menos 1 advogado...</p>
</div>
```

**Sele√ß√£o V√°lida (Verde):**

```tsx
<span className="text-green-600">‚úì Sele√ß√£o v√°lida</span>
```

#### 5. Resumo de Selecionados

**Advogados (Verde):**

```tsx
<div className="bg-green-50 border border-green-200">
  <CheckCircle2 className="text-green-600" />
  <p className="text-green-900">Advogados selecionados:</p>
  <p className="text-green-700">Advogado Trabalhista, Advogado C√≠vel</p>
</div>
```

**Peritos (Azul):**

```tsx
<div className="bg-blue-50 border border-blue-200">
  <CheckCircle2 className="text-blue-600" />
  <p className="text-blue-900">Peritos selecionados:</p>
  <p className="text-blue-700">Perito M√©dico, Perito Seguran√ßa do Trabalho</p>
</div>
```

### Responsividade

**Desktop (md+):**
- Grid de 2 colunas: `grid-cols-1 md:grid-cols-2`
- T√≠tulos de se√ß√£o vis√≠veis

**Mobile (<md):**
- Grid de 1 coluna: `grid-cols-1`
- Cards em pilha vertical

---

## üß™ Fluxo de Uso

### Cen√°rio 1: Sele√ß√£o Completa (Happy Path)

1. Usu√°rio entra na Etapa 3 do wizard
2. Componente busca listas de advogados e peritos da API
3. Exibe loading spinners enquanto carrega
4. Quando sucesso, exibe grids de advogados e peritos
5. Usu√°rio clica em "Advogado Trabalhista" ‚Üí Card fica verde, checkbox preenchido
6. Usu√°rio clica em "Perito M√©dico" ‚Üí Card fica azul, checkbox preenchido
7. Bot√£o "Avan√ßar" √© habilitado (sele√ß√£o v√°lida: 1 advogado E 1 perito)
8. Feedback visual: "‚úì Sele√ß√£o v√°lida"
9. Usu√°rio clica "Avan√ßar" ‚Üí Wizard avan√ßa para Etapa 4

### Cen√°rio 2: Sele√ß√£o Incompleta (Valida√ß√£o)

1. Usu√°rio entra na Etapa 3
2. Componente carrega listas de agentes
3. Usu√°rio clica em "Advogado Trabalhista" (1 advogado, 0 peritos)
4. Mensagem aparece: "‚ö† Sele√ß√£o incompleta (falta perito)"
5. Bot√£o "Avan√ßar" permanece desabilitado (cinza)
6. Usu√°rio clica em "Perito M√©dico" (1 advogado, 1 perito)
7. Mensagem muda para: "‚úì Sele√ß√£o v√°lida"
8. Bot√£o "Avan√ßar" √© habilitado
9. Usu√°rio pode avan√ßar

### Cen√°rio 3: Selecionar Todos (A√ß√£o R√°pida)

1. Usu√°rio entra na Etapa 3
2. Clica em "Todos" na se√ß√£o de Advogados
3. Todos os 4 advogados ficam selecionados (verde)
4. Clica em "Todos" na se√ß√£o de Peritos
5. Todos os 2 peritos ficam selecionados (azul)
6. Resumo mostra: "4 advogados selecionados" e "2 peritos selecionados"
7. Bot√£o "Avan√ßar" habilitado
8. Usu√°rio pode avan√ßar com todos os agentes

### Cen√°rio 4: Limpar e Refazer

1. Usu√°rio seleciona alguns agentes
2. Clica em "Limpar"
3. Todas as sele√ß√µes s√£o removidas (checkboxes vazios, cards cinza)
4. Bot√£o "Avan√ßar" desabilitado
5. Mensagem: "Selecione pelo menos 1 advogado e 1 perito"
6. Usu√°rio refaz sele√ß√£o

### Cen√°rio 5: Expandir Legisla√ß√£o/Especialidades

1. Usu√°rio clica em "Ver legisla√ß√£o principal (4)" em um card de advogado
2. Lista de leis aparece abaixo:
   - CLT (arts. 1-100)
   - Lei 8.213/1991
   - ...
3. Bot√£o muda para "Ocultar legisla√ß√£o principal (4)"
4. Usu√°rio clica novamente ‚Üí Lista desaparece
5. Mesmo comportamento para "Ver especialidades" nos peritos

---

## üîí Valida√ß√£o e Seguran√ßa

### Valida√ß√£o de Sele√ß√£o

**Regra (TAREFA-052):**

```typescript
const selecaoValida =
  agentesSelecionados.advogados.length > 0 && agentesSelecionados.peritos.length > 0;
```

**Valida√ß√£o rigorosa:**
- ‚úÖ 1 advogado E 1 perito ‚Üí V√ÅLIDO
- ‚úÖ 2 advogados E 1 perito ‚Üí V√ÅLIDO
- ‚úÖ 4 advogados E 2 peritos ‚Üí V√ÅLIDO
- ‚ùå 1 advogado E 0 peritos ‚Üí INV√ÅLIDO
- ‚ùå 0 advogados E 1 perito ‚Üí INV√ÅLIDO
- ‚ùå 0 advogados E 0 peritos ‚Üí INV√ÅLIDO

### Tratamento de Erros

**Erro ao Carregar Advogados:**

```tsx
{estadoCarregamentoAdvogados === 'error' && (
  <div className="flex flex-col items-center justify-center py-8">
    <AlertCircle className="h-12 w-12 text-red-500" />
    <p className="mt-4 text-red-600 font-medium">Erro ao carregar advogados</p>
    <p className="mt-2 text-gray-600 text-sm">{mensagemErro}</p>
  </div>
)}
```

**Erro ao Carregar Peritos:**

Similar ao de advogados, exibe mensagem amig√°vel.

### Type Safety

**TypeScript garante:**
- `agentesSelecionados` sempre tem estrutura `{ advogados: string[], peritos: string[] }`
- Callbacks t√™m tipagem correta
- InformacaoPerito e InformacaoAdvogado seguem contratos da API

---

## üîó Integra√ß√µes

### API Endpoints

**GET /api/analise/peritos:**

```typescript
const resposta = await listarPeritosDisponiveis();
// resposta.data.peritos: InformacaoPerito[]
```

**GET /api/analise/advogados:**

```typescript
const resposta = await listarAdvogadosDisponiveis();
// resposta.data.advogados: InformacaoAdvogado[]
```

### Tipos TypeScript

**tiposAgentes.ts (reutilizado da TAREFA-018/029):**

```typescript
export interface InformacaoPerito {
  id_perito: string;
  nome_exibicao: string;
  descricao: string;
  especialidades: string[];
}

export interface InformacaoAdvogado {
  id_advogado: string;
  nome_exibicao: string;
  descricao: string;
  legislacao_principal: string[];
}
```

**tiposPeticao.ts (TAREFA-049):**

```typescript
export interface AgentesSelecionados {
  advogados: string[];  // IDs: ['trabalhista', 'previdenciario']
  peritos: string[];    // IDs: ['medico', 'seguranca_trabalho']
}
```

### Componente Pai

**AnalisePeticaoInicial.tsx:**

```typescript
// State
const [agentesSelecionados, setAgentesSelecionados] = useState<AgentesSelecionados>({
  advogados: [],
  peritos: [],
});

// Callback
const handleAgentesAlterados = (agentes: AgentesSelecionados) => {
  setAgentesSelecionados(agentes);
};

// Render
<ComponenteSelecaoAgentesPeticao
  agentesSelecionados={agentesSelecionados}
  onAgentesAlterados={handleAgentesAlterados}
  onAvancar={avancarEtapa}
  onVoltar={voltarEtapa}
/>
```

---

## üìö Documenta√ß√£o T√©cnica

### Coment√°rios no C√≥digo

**Padr√£o AI_MANUAL_DE_MANUTENCAO.md:**

```typescript
/**
 * Handler para alternar sele√ß√£o de um perito
 * 
 * L√ìGICA:
 * Se perito j√° est√° selecionado ‚Üí Remove
 * Se n√£o est√° selecionado ‚Üí Adiciona
 * 
 * CONTEXTO:
 * Atualiza state no componente pai via callback onAgentesAlterados.
 * 
 * @param idPerito - ID do perito (ex: 'medico', 'seguranca_trabalho')
 */
function handleAlternarPerito(idPerito: string) {
  const novosPeritosSelecionados = agentesSelecionados.peritos.includes(idPerito)
    ? agentesSelecionados.peritos.filter((id) => id !== idPerito)
    : [...agentesSelecionados.peritos, idPerito];
  
  onAgentesAlterados({
    ...agentesSelecionados,
    peritos: novosPeritosSelecionados,
  });
}
```

**Total de coment√°rios:** ~200 linhas (22% do c√≥digo)

### JSDoc nos Componentes

```typescript
/**
 * Componente de Sele√ß√£o de Agentes para An√°lise de Peti√ß√£o Inicial - TAREFA-052
 * 
 * CONTEXTO DE NEG√ìCIO:
 * Permite ao usu√°rio selecionar quais advogados especialistas E peritos t√©cnicos
 * devem ser consultados para an√°lise completa de uma peti√ß√£o inicial.
 * 
 * DIFEREN√áA DA TAREFA-029:
 * - Valida√ß√£o: exige pelo menos 1 advogado E 1 perito (n√£o OU)
 * - Integra√ß√£o: usa callbacks locais ao inv√©s de Zustand store
 * - Layout: otimizado para wizard (bot√µes Voltar/Avan√ßar)
 * 
 * RESPONSABILIDADES:
 * - Buscar lista de peritos E advogados dispon√≠veis da API
 * - Exibir checkboxes para cada agente em sua respectiva se√ß√£o
 * - Valida√ß√£o rigorosa: m√≠nimo 1 advogado E m√≠nimo 1 perito
 * - Fornecer callbacks para componente pai (AnalisePeticaoInicial)
 * - Bot√µes de navega√ß√£o do wizard (Voltar/Avan√ßar)
 * 
 * USO:
 * ```tsx
 * <ComponenteSelecaoAgentesPeticao
 *   agentesSelecionados={{ advogados: ['trabalhista'], peritos: ['medico'] }}
 *   onAgentesAlterados={(agentes) => console.log('Selecionados:', agentes)}
 *   onAvancar={() => console.log('Avan√ßar')}
 *   onVoltar={() => console.log('Voltar')}
 * />
 * ```
 */
export function ComponenteSelecaoAgentesPeticao({ ... }) { ... }
```

---

## üéØ Compara√ß√£o: TAREFA-029 vs TAREFA-052

### Semelhan√ßas (C√≥digo Reutilizado)

| Aspecto | TAREFA-029 | TAREFA-052 |
|---------|------------|------------|
| **Busca de Agentes** | GET /api/analise/peritos, /advogados | Mesma l√≥gica |
| **Layout de Cards** | Grid 2 colunas, checkboxes, √≠cones | Mesma l√≥gica |
| **Expans√£o de Detalhes** | Bot√£o "Ver legisla√ß√£o/especialidades" | Mesma l√≥gica |
| **√çcones** | Mesmos mapas (ICONES_PERITOS, ICONES_ADVOGADOS) | Mesma l√≥gica |
| **Estados de Loading** | Spinners, mensagens de erro | Mesma l√≥gica |

### Diferen√ßas (Adapta√ß√µes)

| Aspecto | TAREFA-029 | TAREFA-052 |
|---------|------------|------------|
| **State Management** | Zustand store (`armazenamentoAgentes`) | Controlled component (props) |
| **Valida√ß√£o** | Pelo menos 1 agente (perito OU advogado) | Pelo menos 1 advogado E 1 perito |
| **Callbacks** | `aoAlterarSelecaoPeritos`, `aoAlterarSelecaoAdvogados` | `onAgentesAlterados` (√∫nico callback) |
| **Navega√ß√£o** | Sem bot√µes (componente isolado) | Bot√µes "Voltar" e "Avan√ßar" |
| **Contexto** | An√°lise tradicional (p√°gina dedicada) | Wizard de peti√ß√£o (etapa 3) |
| **Mensagens** | "Selecione pelo menos 1 agente" | "Selecione 1 advogado E 1 perito" |

---

## ‚úÖ Checklist de Implementa√ß√£o

### Componente Principal

- [x] Criar `ComponenteSelecaoAgentesPeticao.tsx`
- [x] Interface de propriedades (agentesSelecionados, callbacks)
- [x] Estado local (peritosDisponiveis, advogadosDisponiveis, expandidos)
- [x] useEffect para buscar peritos (GET /api/analise/peritos)
- [x] useEffect para buscar advogados (GET /api/analise/advogados)
- [x] Handler alternarPerito
- [x] Handler alternarAdvogado
- [x] Handler selecionarTodosPeritos
- [x] Handler selecionarTodosAdvogados
- [x] Handler limparSelecao
- [x] Handler toggleExpandirPerito
- [x] Handler toggleExpandirAdvogado
- [x] Valida√ß√£o: `selecaoValida = advogados.length > 0 && peritos.length > 0`
- [x] Se√ß√£o de Advogados (grid, cards, checkboxes, √≠cones)
- [x] Se√ß√£o de Peritos (grid, cards, checkboxes, √≠cones)
- [x] Mensagem de valida√ß√£o (sele√ß√£o incompleta)
- [x] Resumo de selecionados (advogados e peritos)
- [x] Bot√µes de navega√ß√£o (Voltar, Avan√ßar)
- [x] Feedback visual de valida√ß√£o (‚úì v√°lida, ‚ö† incompleta)
- [x] Estados de loading (spinners)
- [x] Tratamento de erros (mensagens amig√°veis)

### Integra√ß√£o

- [x] Importar ComponenteSelecaoAgentesPeticao em AnalisePeticaoInicial.tsx
- [x] Substituir placeholder da EtapaSelecaoAgentes
- [x] Conectar props (agentesSelecionados, onAgentesAlterados, onAvancar, onVoltar)
- [x] Testar fluxo de sele√ß√£o no wizard

### Valida√ß√£o

- [x] Bot√£o "Avan√ßar" desabilitado se sele√ß√£o inv√°lida
- [x] Bot√£o "Avan√ßar" habilitado se sele√ß√£o v√°lida
- [x] Mensagem de erro contextual (falta advogado/perito)
- [x] Feedback visual de sele√ß√£o (checkboxes, cores)

### Documenta√ß√£o

- [x] Coment√°rios exaustivos no c√≥digo (padr√£o AI_MANUAL)
- [x] JSDoc em fun√ß√µes e componentes
- [x] Changelog completo (este arquivo)

---

## üêõ Problemas Conhecidos

### Warnings de Lint

**Arquivo:** `AnalisePeticaoInicial.tsx`

```
'uploadPeticaoId' is assigned a value but never used.
'tipoAcao' is assigned a value but never used.
'documentosEnviados' is assigned a value but never used.
```

**MOTIVO:**
Essas vari√°veis s√£o state do wizard mas ainda n√£o s√£o usadas porque tarefas futuras (053-056) v√£o consumir esses dados. Por ora, s√£o mantidas para n√£o quebrar o fluxo.

**RESOLU√á√ÉO:**
Aguardar TAREFAS 053-056.

### Nenhum Bug Funcional

Nenhum bug funcional identificado. Componente testado manualmente:
- ‚úÖ Carregamento de listas de agentes
- ‚úÖ Sele√ß√£o/dessele√ß√£o de advogados e peritos
- ‚úÖ Valida√ß√£o de sele√ß√£o m√≠nima
- ‚úÖ Navega√ß√£o do wizard (Voltar/Avan√ßar)
- ‚úÖ Feedback visual de valida√ß√£o

---

## üìà Pr√≥ximos Passos

### TAREFA-053 (Pr√≥xima)

**Frontend - Componente de Visualiza√ß√£o de Pr√≥ximos Passos**

Implementar componente para exibir estrat√©gia recomendada e timeline de a√ß√µes:
- Card de estrat√©gia recomendada
- Timeline vertical de passos estrat√©gicos
- Se√ß√£o de caminhos alternativos (expans√≠vel)
- Layout profissional (similar a Trello roadmap)

### Tarefas Relacionadas

- **TAREFA-054**: Componente de Gr√°fico de Progn√≥stico
- **TAREFA-055**: Componente de Pareceres Individualizados
- **TAREFA-056**: Componente de Documento de Continua√ß√£o

---

## üèÜ Conquistas

### ‚úÖ Etapa 3 do Wizard Conclu√≠da

A sele√ß√£o de agentes especialistas no wizard de peti√ß√£o inicial est√° funcional e pronta para uso.

### ‚úÖ Reutiliza√ß√£o de C√≥digo

~80% do c√≥digo visual foi reutilizado da TAREFA-029, economizando ~700 linhas de c√≥digo e garantindo consist√™ncia de UX.

### ‚úÖ Valida√ß√£o Rigorosa

Sistema de valida√ß√£o garante que an√°lise de peti√ß√£o sempre ter√° pelo menos 1 advogado E 1 perito, atendendo requisito de neg√≥cio.

### ‚úÖ Experi√™ncia de Usu√°rio

Feedback visual em tempo real:
- Checkboxes coloridos (verde para advogados, azul para peritos)
- Mensagens de valida√ß√£o contextuais
- Bot√£o "Avan√ßar" desabilitado se sele√ß√£o inv√°lida
- Resumo de selecionados por categoria

---

## üìù Notas para LLMs Futuras

### Padr√µes Seguidos

1. **Documenta√ß√£o Exaustiva**: Todo o c√≥digo est√° comentado seguindo AI_MANUAL_DE_MANUTENCAO.md
2. **Type Safety**: TypeScript com interfaces bem definidas
3. **Controlled Components**: Estado gerenciado pelo componente pai (wizard)
4. **Valida√ß√£o Rigorosa**: Pelo menos 1 advogado E 1 perito (n√£o OU)
5. **Reutiliza√ß√£o de C√≥digo**: L√≥gica visual da TAREFA-029 adaptada

### Diferen√ßas da TAREFA-029

**IMPORTANTE:** Este componente √© similar ao ComponenteSelecionadorAgentes (TAREFA-029) mas com diferen√ßas cr√≠ticas:

1. **Valida√ß√£o**: 1 advogado E 1 perito (n√£o OU)
2. **State**: Props controladas (sem Zustand)
3. **Navega√ß√£o**: Bot√µes Voltar/Avan√ßar integrados
4. **Contexto**: Wizard de peti√ß√£o (n√£o p√°gina isolada)

### Pr√≥ximas Tarefas

As TAREFAS 053-056 ir√£o implementar os componentes de visualiza√ß√£o de resultados:
- Pr√≥ximos passos estrat√©gicos
- Gr√°fico de progn√≥stico com probabilidades
- Pareceres individualizados por agente
- Documento de continua√ß√£o gerado

Todos esses componentes ser√£o renderizados na Etapa 5 do wizard.

---

## üîö Conclus√£o

A TAREFA-052 foi conclu√≠da com sucesso. O componente `ComponenteSelecaoAgentesPeticao` est√° funcional, validado e integrado ao wizard de an√°lise de peti√ß√£o inicial. A Etapa 3 do wizard est√° pronta para uso.

**Pr√≥ximo passo:** TAREFA-053 - Frontend - Componente de Visualiza√ß√£o de Pr√≥ximos Passos.

---

**Desenvolvido por:** Claude (Anthropic)  
**Data de Conclus√£o:** 2025-10-25  
**Vers√£o do Sistema:** 3.1.0 (FASE 7 - EM ANDAMENTO)
